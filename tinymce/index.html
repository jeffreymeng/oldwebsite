<!DOCTYPE html>
<html>

<head>
    <script src='/tinymce/production/js/tinymce/tinymce.min.js'></script>
    <script src="https://cdn.firebase.com/js/client/2.4.0/firebase.js"></script>
    <script src="http://code.jquery.com/jquery-1.12.0.min.js"></script>
    <!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">

<script>
        /* global tinymce */
        /* global Firebase */
        var getUserInfo = function() {
            var name, email, id, docname, doctitle, out;
            out = {
                user: {
                    name: name,
                    email: email,
                    child: {
                        id: id
                    }
                },
                doc: {
                    safe: {
                        name: docname,
                        title: doctitle
                    }
                }
            }
        };
        var fb = new Firebase("https://jeffreymeng.firebaseio.com/jdoc/");

        function save() {
            console.log(tinyMCE.activeEditor.getContent())
            // fb.child(getUserInfo().user.child.id).child(getUserInfo.doc.safe.name).set(content);
        }
        tinymce.init({
            selector: '#myTextarea',
            theme: 'modern',
            width: "100%",
            height: "100%",
            browser_spellcheck: true,
            plugins: [
                'advlist autolink autosave link image lists charmap colorpicker print preview hr anchor pagebreak spellchecker',
                'searchreplace wordcount visualblocks visualchars code fullscreen insertdatetime media nonbreaking',
                'table contextmenu directionality template paste textcolor'
            ],
            autosave_interval: "2s",
            setup: function(editor) {
                editor.addButton('save', {
                    text: 'Save',
                    icon: 'save',
                    onclick: function(){save();},
                });

            },
            toolbar: 'insertfile undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | save print preview media fullpage | forecolor backcolor'
        });
    </script>
</head>

<body>
    <div id="editor" class="editor">
        <h1>Welcome to Jeffrey's Cloud Text Editor</h1>
        <textarea id="myTextarea"></textarea>
    </div>
    <!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
    
</body>

</html>